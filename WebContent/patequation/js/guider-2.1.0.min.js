/*! jQuery Plugin: Guider v2.1.0 | Dual licensed under the MIT (http://www.roydukkey.com/mit) and GPL Version 2 (http://www.roydukkey.com/gpl) licenses. */
(function(i){function r(b,g){if(void 0!=b){b&A&&a.e.draggable&&a.e.draggable("option","disabled",!(a.s.draggable&&(void 0==a.s.attachTo||0==a.s.attachTo.length)));b&B&&a.e.find(".jgClose").toggleClass("active",!!a.s.closable);b&C&&(a.e.addClass(a.s.className),void 0!=g&&a.e.removeClass(g));if(b&N){var d=o[n];d.s.attachTo&&d.s.attachTo.removeClass("jGuiderHidden");i(".jGuiderHighlight").remove()}b&D&&a.s.overlay&&(0===i("#jgOverlay").length&&m.appendTo("body"),m.toggleClass("jgLight","light"==a.s.overlay||
!0===a.s.overlay).toggleClass("jgDark","dark"==a.s.overlay),void 0!=a.s.overlay.color?m.css("backgroundColor",a.s.overlay.color):m[0].style.removeProperty?m[0].style.removeProperty("background-color"):m[0].style.removeAttribute("backgroundColor"),void 0!=a.s.overlay.opacity?m.css("opacity",a.s.overlay.opacity):m[0].style.removeProperty?m[0].style.removeProperty("opacity"):m[0].style.removeAttribute("filter"),a.s.highlight&&(b|=w));a.s.highlight&&b&w&&(d=a.s.attachTo,d.clone().css({width:d.width(),
height:d.height(),margin:0,position:"absolute",top:d.offset().top,left:d.offset().left}).addClass("jGuiderHighlight").appendTo("body"),d.addClass("jGuiderHidden"));b&O&&(!s&&m.detach(),s=!1);b&E&&("left"!=a.s.alignButtons&&("center"!=a.s.alignButtons&&"right"!=a.s.alignButtons)&&(a.s.alignButtons=x.alignButtons),a.e.find(".jgButtons").toggleClass("jgAlignLeft","left"==a.s.alignButtons).toggleClass("jgAlignCenter","center"==a.s.alignButtons).toggleClass("jgAlignRight","right"==a.s.alignButtons));b&
F&&(a.e.css("width",a.s.width),b|=p);b&G&&(a.e.find(".jgTitle").css("display",!a.s.title?"none":null).html(a.s.title),b|=p);b&H&&(a.e.find(".jgDesc").html(a.s.description),b|=p);if(b&I){d=a.e.find(".jgButtons").find("button").remove().end();for(j in a.s.buttons){if("boolean"==typeof a.s.buttons[j]||"function"==typeof a.s.buttons[j])a.s.buttons[j]={click:a.s.buttons[j]};d.append(i("<button>"+j+"</button>").addClass(a.s.buttons[j].className).attr("disabled",!!a.s.buttons[j].disabled).click({guider:i.isFunction(a.s.buttons[j].click)?
a.s.buttons[j].click:-1},"boolean"==typeof a.s.buttons[j].click?(j.toLowerCase()=="não, obrigado."||"finalizar"==j.toLowerCase()||"entendi"==j.toLowerCase()||"ok"==j.toLowerCase()||"legal"==j.toLowerCase())&&k.hideAll||("próximo"==j.toLowerCase()||"só se for agora!"==j.toLowerCase()||"vamos começar!"==j.toLowerCase()||"sim, por favor."==j.toLowerCase()||"desejo recomeçar o tour."==j.toLowerCase())&&k.next||"voltar"==j.toLowerCase()&&k.prev:function(b){return~b.data.guider&&b.data.guider.call(a.s.e,b)}))}b|=p}b&J&&(a.p=(a.s.position=function(){for(var b=0;b<y.length;b++)if(y[b].toLowerCase()==a.s.position.toLowerCase())return y[b]}()||x.position).replace(/(.*)[A-Z].*/,"$1,"+a.s.position).split(","),b|=p);if(n==a.s.name&&b&(K|p)){var h,c,e,j,d=a.e.innerHeight();h=a.e.innerWidth();
if(void 0==a.s.attachTo||0==a.s.attachTo.length)b&K&&(c=(i(window).height()-d)/3+i(window).scrollTop(),e=(i(window).width()-h)/2+i(window).scrollLeft());else{var l=a.e.find(".jgArrow").removeClass(function(a,b){return b.replace("jgArrow")}).addClass("jg-"+a.p[a.p.length-1]),f=a.s.arrowSize;l.find("span").add(l).css({top:"",right:"",bottom:"",left:"",borderWidth:"",margin:""});switch(a.p[0]){case "top":l.find("span").add(l).css("borderWidth",f+"px "+f+"px 0 "+f+"px").end().css("left",-f);break;case "right":l.find("span").add(l).css("borderWidth",
f+"px "+f+"px "+f+"px 0").end().css("top",-f);break;case "bottom":l.find("span").add(l).css("borderWidth","0 "+f+"px "+f+"px "+f+"px").end().css("left",-f);break;default:l.find("span").add(l).css("borderWidth",f+"px 0 "+f+"px "+f+"px").end().css("top",-f)}j=a.s.attachTo.offset();c=j.top;e=j.left;switch(a.p[a.p.length-1]){case "top":case "bottom":l.css("marginLeft",-f);e+=(a.s.attachTo.innerWidth()-h)/2;break;case "right":case "left":l.css("marginTop",-f);c+=(a.s.attachTo.innerHeight()-d)/2;break;
case "rightTop":case "leftTop":l.css("top",f/1.5);break;case "topRight":case "bottomRight":l.css("right",f/1.5);e+=a.s.attachTo.innerWidth()-h;break;case "rightBottom":case "leftBottom":l.css("bottom",f/1.5);c+=a.s.attachTo.innerHeight()-d;break;default:l.css("left",f/1.5)}switch(a.p[a.p.length-1]){case "topLeft":case "top":case "topRight":c+=-t-f-d;break;case "rightTop":case "right":case "rightBottom":e+=t+f+a.s.attachTo.innerWidth();break;case "bottomRight":case "bottom":case "bottomLeft":c+=t+
f+a.s.attachTo.innerHeight();break;default:e+=-t+-h-f}void 0!=a.s.offset&&(c+=~~a.s.offset.top,e+=~~a.s.offset.left)}a.e.css({position:a.s.attachTo?"absolute":"fixed",top:c,left:e})}}}function u(a){throw"Guider "+k.version+": "+a;}function L(a,g,d){if(a.indexOf)return a.indexOf(g,d);for(d=d||0;d<a.length;d++)if(a[d]==d)return d;return-1}function q(a){void 0==o[a]&&u("Cannot find a guide with name '"+a+"'");return o[a]}function z(){var b,g,d,h;void 0!=n&&k.hideAll();n=a.s.name;a.e.appendTo("body");
r(8224);a.s.onShow&&a.s.onShow.call(a.e);a.e.css("display","block");for(h in a.s.buttons)a.s.buttons[h].focus&&a.e.find(":contains("+h+")").focus();window.scrollTo(0>(h=a.e.offset()).left-(d=i(window).scrollLeft())||h.left+(b=a.e.width())>d+(g=i(window).width())?Math.max(h.left+(b-g)/2,0):d,0>h.top-(d=i(window).scrollTop())||h.top+(b=a.e.height())>d+(g=i(window).height())?Math.max(h.top+(b-g)/2,0):d)}var x={width:530,
position:"rightTop",alignButtons:"left",overlay:!1,hashable:!1,closable:!1,draggable:!0,arrowSize:30},A=1,B=2,C=4,w=8,N=16,D=32,O=64,F=128,G=256,H=512,E=1024,I=2048,J=4096,K=8192,p=16384,o=[],a,n=null,M=null,v=[],s=!1,m=i('<div id="jgOverlay" />'),t=10,y="topLeft top topRight rightTop right rightBottom bottomRight bottom bottomLeft leftBottom left leftTop".split(" "),k=i.guider=function(b,g,d){if("string"==typeof b&&void 0!=g){a=q(b);a:{var b=g,g=["name","attachTo"],h,c,e;if("string"==typeof b)void 0!=
d&&~L(g,e=b.replace(/\..*/,""))&&u("The property '"+e+"' is readonly.");else for(e in b)~L(g,e=e.replace(/\..*/,""))&&u("The property '"+e+"' is readonly.");g=b;if("string"==typeof b)if(g={},b=(h=b.split(".")).shift(),h.length){c=g[b]=i.extend({},a.s[b]);for(e=0;e<h.length-1;e++)c=c[h[e]]=c[h[e]]||{};b=h.pop();if(void 0===d){d=void 0===c[b]?null:c[b];break a}"className"==b&&(e=c[b]);c[b]=d}else{if(void 0===d){d=void 0===a.s[b]?null:a.s[b];break a}"className"==b&&(e=a.s[b]);g[b]=d}c=0;for(b in g)switch(a.s[b]=
g[b],b){case "alignButtons":c|=E;break;case "arrowSize":case "offset":c|=p;break;case "buttons":c|=I;break;case "className":c|=C;break;case "closable":c|=B;break;case "description":c|=H;break;case "draggable":c|=A;break;case "highlight":c|=w;break;case "overlay":c|=D;break;case "position":c|=J;break;case "title":c|=G;break;case "width":c|=F}c&&r(c,e);d=k}return d}a=i.extend(!0,{},{s:x},{s:b});"length"==a.name&&u("Guider names must !== 'length'.");o[a.s.name=M=a.s.name||o.length||0]=a;(a.e=i('<div class="jGuider" style="display:none;"><div class="jgContent"><div class="jgTitle" /><div class="jgNoDrag"><div class="jgClose" /><div class="jgDesc" /><div class="jgButtons" /></div></div><span class="jgArrow"><span /></span></div>')).attr("id",
"jGuider_"+a.s.name).find(".jgClose").click(k.hideAll);a.e.draggable&&a.e.draggable({cancel:".jgNoDrag"});r(8071);a.s.hashable&&~(h=window.location.hash.indexOf("guider="))&&a.s.name.toLowerCase()==window.location.hash.substr(h+7).toLowerCase()&&k.show(a.s.name);return k};i.each({version:"2.1.0",next:function(){a=o[n];void 0!=a&&(a=a.s.next||null,null!==a&&""!==a&&(s=!!(a=q(a)).s.overlay,void 0!=n&&v.push(n),z()));return k},prev:function(){a=o[n];void 0!=a&&v.length&&(s=!!(a=o[v.pop()]).s.overlay,
z());return k},hideAll:function(){i(".jGuider").filter(":visible").each(function(a,g){var d=q(i(g).attr("id").replace("jGuider_",""));d.s.onHide&&d.s.onHide.call(d.e)}).end().detach();r(80);return k},show:function(b){void 0!=n&&v.push(n);a=q(void 0!=b?b:M);z();return k}},function(a,g){k[a]=g});i.fn.guider=function(a){a.attachTo=this.eq(0);k(a);return this};i(window).on("hashchange",function(){var a;~(a=window.location.hash.indexOf("guider="))&&q(a=window.location.hash.substr(a+7).toLowerCase()).s.hashable&&
k.show(a)})})(jQuery);